{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useInput from '../hooks/useInput';\nimport { loginRequestAction } from '../reducers/user';\nimport Router from \"next/router\";\nimport { Form, Input, Button, Checkbox } from 'antd';\nimport logo from './logo2.png';\nimport { UserOutlined, CloseOutlined, LockOutlined } from '@ant-design/icons';\nimport Swal from 'sweetalert2';\nconst ContainerDiv = styled.div.withConfig({\n  displayName: \"LoginForm__ContainerDiv\",\n  componentId: \"sc-rtqzse-0\"\n})([\"width:460px;height:310px;border:solid #C6C6C6;border-radius:10px;text-align:center;display:flex;justify-content:center;padding:80px;.ant-form-item-control-input-content{padding-left:140px;}\"]);\nconst InputDiv = styled.div.withConfig({\n  displayName: \"LoginForm__InputDiv\",\n  componentId: \"sc-rtqzse-1\"\n})([\"width:420px;height:48px;border:solid #DADADA;border-radius:5px;padding-top:8px;display:flex;\"]);\nconst RegiDiv = styled.div.withConfig({\n  displayName: \"LoginForm__RegiDiv\",\n  componentId: \"sc-rtqzse-2\"\n})([\"width:460px;height:50px;border:solid #C6C6C6;border-radius:10px;margin-top:20px;text-align:center;padding-top:13px;\"]);\nconst GlobalDiv = createGlobalStyle([\"div{cursor:pointer;}\"]);\n\nfunction LoginForm() {\n  const dispatch = useDispatch();\n  const {\n    0: email,\n    1: onChangeEmail\n  } = useState();\n  const {\n    0: password,\n    1: onChangePassword\n  } = useState('');\n  const {\n    logInLoading,\n    logInError,\n    logInDone\n  } = useSelector(state => state.user);\n  useEffect(() => {\n    if (logInError) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: logInError,\n        footer: '<a href=\"\">Why do I have this issue?</a>'\n      });\n    }\n  }, [logInError]); // 로그인 에러 화면처리\n\n  useEffect(() => {\n    if (logInDone) {\n      Router.push('/');\n    }\n  }, [logInDone]); // 로그인 에러 화면처리\n\n  const removeEHandle = () => {\n    onChangeEmail('');\n  };\n\n  const removePHandle = () => {\n    onChangePassword('');\n  };\n\n  const onSubmitForm = useCallback(() => {\n    console.log(email, password);\n    dispatch(loginRequestAction({\n      email,\n      password\n    })); // Router.push('/',undefined,{ shallow:true });\n  }, [email, password]);\n\n  const emailHandle = e => {\n    onChangeEmail(e.target.value);\n  };\n\n  const passwordHandle = e => {\n    onChangePassword(e.target.value);\n  };\n\n  const onFinish = values => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", null, __jsx(GlobalDiv, null), __jsx(\"div\", {\n    style: {\n      paddingLeft: \"80px\"\n    }\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"img\", {\n    src: logo,\n    style: {\n      width: \"300px\",\n      paddingBottom: \"20px\"\n    }\n  }))), __jsx(ContainerDiv, null, __jsx(Form, {\n    name: \"basic\",\n    labelCol: {\n      span: 8\n    },\n    wrapperCol: {\n      span: 16\n    },\n    initialValues: {\n      remember: true\n    },\n    onFinish: onSubmitForm,\n    autoComplete: \"off\"\n  }, __jsx(InputDiv, null, __jsx(\"div\", {\n    style: {\n      width: \"50px\",\n      textAlign: \"start\"\n    }\n  }, __jsx(\"span\", null, __jsx(UserOutlined, {\n    style: {\n      width: \"50px\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      width: \"280px\",\n      textAlign: \"start\"\n    }\n  }, __jsx(\"input\", {\n    value: email,\n    onChange: emailHandle,\n    type: \"text\",\n    style: {\n      border: \"none\",\n      width: \"250px\"\n    },\n    placeholder: \"\\uC544\\uC774\\uB514\"\n  })), __jsx(\"div\", {\n    style: {\n      textAlign: \"end\",\n      width: \"70px\"\n    }\n  }, __jsx(\"button\", {\n    onClick: removeEHandle,\n    style: {\n      border: \"solid 1px\",\n      borderRadius: \"14px\",\n      color: \"white\"\n    }\n  }, __jsx(\"span\", null, __jsx(CloseOutlined, null))))), __jsx(InputDiv, null, __jsx(\"div\", {\n    style: {\n      width: \"50px\",\n      textAlign: \"start\"\n    }\n  }, __jsx(\"span\", null, __jsx(LockOutlined, {\n    style: {\n      width: \"50px\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      width: \"280px\",\n      textAlign: \"start\"\n    }\n  }, __jsx(\"input\", {\n    value: password,\n    onChange: passwordHandle,\n    type: \"password\",\n    style: {\n      border: \"none\",\n      width: \"250px\"\n    },\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n  })), __jsx(\"div\", {\n    style: {\n      textAlign: \"end\",\n      width: \"70px\"\n    }\n  }, __jsx(\"button\", {\n    onClick: removePHandle,\n    style: {\n      border: \"solid 1px\",\n      borderRadius: \"14px\",\n      color: \"white\"\n    }\n  }, __jsx(\"span\", null, __jsx(CloseOutlined, null))))), __jsx(Form.Item, {\n    name: \"remember\",\n    valuePropName: \"checked\",\n    wrapperCol: {\n      offset: 8,\n      span: 16\n    }\n  }, __jsx(Checkbox, null, \"Remember me\")), __jsx(Form.Item, {\n    wrapperCol: {\n      offset: 8,\n      span: 16\n    }\n  }, __jsx(Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\uB85C\\uADF8\\uC778\")))), __jsx(RegiDiv, null, __jsx(\"span\", null, \"\\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694? \"), __jsx(Link, {\n    href: \"signup\"\n  }, __jsx(\"a\", null, \"\\uAC00\\uC785\\uD558\\uAE30\")))));\n}\n\nexport default LoginForm;","map":null,"metadata":{},"sourceType":"module"}