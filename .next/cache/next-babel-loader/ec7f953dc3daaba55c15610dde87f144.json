{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport AppLayout from '../../components/AppLayout/AppLayout';\nimport Layout from \"../../components/Layout\";\nimport { LOAD_CHANGE_TAG_REQUEST, LOAD_SEARCH_POSTS_REQUEST, UPDATE_CHANGE_TAG_REQUEST, UPDATE_TAG } from \"../../reducers/post\";\nimport Tags from \"../../components/Tags\";\nimport { Button, Tag } from \"antd\";\nimport PostCard1 from \"../../components/PostCard1\";\nimport PostCard2 from \"../../components/PostCard2\";\nimport styled from \"styled-components\";\nimport SearchTags from \"../../components/SearchTags\";\nimport a1 from \"../../components/광고1.jpeg\";\nimport a2 from \"../../components/광고2.jpg\";\nimport a3 from \"../../components/광고3.jpg\";\nimport a4 from \"../../components/광고4.jpeg\";\nimport a5 from \"../../components/광고5.jpg\";\nimport { LeftOutlined, RightOutlined } from \"@ant-design/icons\";\nvar PostCarDiv2 = styled.div.withConfig({\n  displayName: \"searchInput__PostCarDiv2\",\n  componentId: \"sc-180im9u-0\"\n})([\"width:100%;display:flex;flex-wrap:wrap;justify-content:center;\"]);\nvar AdvertisementDiv = styled.div.withConfig({\n  displayName: \"searchInput__AdvertisementDiv\",\n  componentId: \"sc-180im9u-1\"\n})([\"width:100%;height:297px;position:relative;\"]);\n\nfunction SearchResult() {\n  var dispatch = useDispatch();\n  var router = useRouter();\n  var searchInput = router.query.searchInput; // [tag].js 파일 명의 [] 부분이 들어간다\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      mainPosts = _useSelector.mainPosts,\n      hasMorePost = _useSelector.hasMorePost,\n      loadPostLoading = _useSelector.loadPostLoading,\n      boardNum = _useSelector.boardNum,\n      object_TagsData = _useSelector.object_TagsData,\n      talent_TagsData = _useSelector.talent_TagsData,\n      cooperate_tagsData = _useSelector.cooperate_tagsData,\n      play_tagsData = _useSelector.play_tagsData;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.user;\n  }),\n      userInfo = _useSelector2.userInfo,\n      me = _useSelector2.me,\n      location = _useSelector2.location;\n\n  var advImg = [{\n    src: a1\n  }, {\n    src: a2\n  }, {\n    src: a3\n  }, {\n    src: a4\n  }, {\n    src: a5\n  }];\n\n  var _useState = useState(0),\n      i = _useState[0],\n      Seti = _useState[1];\n\n  var _useState2 = useState(a1),\n      imgSrc = _useState2[0],\n      SetImgSrc = _useState2[1];\n\n  var RchangeImg = function RchangeImg() {\n    if (i < 5) {\n      Seti(i + 1);\n      SetImgSrc(advImg[i].src);\n    } else if (i === 5) {\n      Seti(0);\n    }\n  };\n\n  var LchangImg = function LchangImg() {\n    if (i > 0) {\n      Seti(i - 1);\n      SetImgSrc(advImg[i - 1].src);\n      console.log(imgSrc);\n    }\n  };\n\n  var categoryAndsearch = searchInput.split('*');\n  var select = categoryAndsearch[0];\n  var searchword = categoryAndsearch[1];\n\n  var _useState3 = useState([]),\n      searchPosts = _useState3[0],\n      setSearchPosts = _useState3[1];\n\n  var _useState4 = useState(true),\n      view = _useState4[0],\n      setView = _useState4[1];\n\n  var onSwitch = useCallback(function () {\n    setView(!view);\n  }, [view]);\n\n  var _useState5 = useState(mainPosts),\n      selectedTags = _useState5[0],\n      setSelectedTags = _useState5[1];\n\n  useEffect(function () {\n    if (selectedTags[0] !== '전체') {\n      setSearchPosts(mainPosts.filter(function (v) {\n        return v.category === selectedTags;\n      }));\n    }\n  }, [selectedTags]); //\n\n  useEffect(function () {\n    setSelectedTags(['전체']);\n  }, []);\n  useEffect(function () {\n    dispatch({\n      // 검색어를 제목에서 포함하며, 지역이 일치하는 게시물들을 10개씩요청\n      type: LOAD_SEARCH_POSTS_REQUEST,\n      location: location,\n      select: select,\n      searchword: searchword,\n      boardNum: boardNum // boardNum 게시판의 select 요소를 기준으로 searchword 와 관련된 local 지역의 데이터를 가져온다.\n\n    });\n  }, [location, select, searchword, boardNum]); // useEffect(() => {\n  //   const onScroll = () => {\n  //     if (window.pageYOffset + document.documentElement.clientHeight > document.documentElement.scrollHeight - 300) {\n  //       if (hasMorePost && !loadPostLoading) {\n  //         dispatch({ // 검색어를 제목에서 포함하며, 지역이 일치하는 게시물들을 10개씩요청\n  //           type: LOAD_SEARCH_POSTS_REQUEST,\n  //           location: location,\n  //           select : select,\n  //           search: search,\n  //         });\n  //       }\n  //     }\n  //   };\n  //   window.addEventListener('scroll', onScroll);\n  //   return () => {\n  //     window.removeEventListener('scroll', onScroll);\n  //   };\n  // }, [mainPosts.length, hasMorePost, searchInput, loadPostLoading]);\n\n  return __jsx(\"div\", null, boardNum === 1 && __jsx(Layout, null, view ? __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 1,\n    tagsData: object_TagsData,\n    select: select,\n    search: searchword\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), mainPosts.map(function (post) {\n    return __jsx(PostCard1, {\n      key: post.id,\n      post: post\n    });\n  })) : __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 1,\n    tagsData: object_TagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), __jsx(PostCarDiv2, null, mainPosts.map(function (post) {\n    return __jsx(PostCard2, {\n      key: post.id,\n      post: post\n    });\n  })))), boardNum === 2 && __jsx(Layout, null, view ? __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 2,\n    tagsData: object_TagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), mainPosts.map(function (post) {\n    return __jsx(PostCard1, {\n      key: post.id,\n      post: post\n    });\n  })) : __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 2,\n    tagsData: object_TagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), __jsx(PostCarDiv2, null, mainPosts.map(function (post) {\n    return __jsx(PostCard2, {\n      key: post.id,\n      post: post\n    });\n  })))), boardNum === 3 && __jsx(Layout, null, view ? __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      paddingRight: \"80px\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 3,\n    tagsData: talent_TagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), mainPosts.map(function (post) {\n    return __jsx(PostCard1, {\n      key: post.id,\n      post: post\n    });\n  })) : __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      paddingRight: \"80px\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 3,\n    tagsData: talent_TagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), __jsx(PostCarDiv2, null, mainPosts.map(function (post) {\n    return __jsx(PostCard2, {\n      key: post.id,\n      post: post\n    });\n  })))), boardNum === 4 && __jsx(Layout, null, view ? __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      paddingRight: \"80px\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 4,\n    tagsData: talent_TagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), mainPosts.map(function (post) {\n    return __jsx(PostCard1, {\n      key: post.id,\n      post: post\n    });\n  })) : __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      paddingRight: \"80px\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 4,\n    tagsData: talent_TagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), __jsx(PostCarDiv2, null, mainPosts.map(function (post) {\n    return __jsx(PostCard2, {\n      key: post.id,\n      post: post\n    });\n  })))), boardNum === 5 && __jsx(Layout, null, view ? __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      paddingRight: \"80px\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 5,\n    tagsData: cooperate_tagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), mainPosts.map(function (post) {\n    return __jsx(PostCard1, {\n      key: post.id,\n      post: post\n    });\n  })) : __jsx(React.Fragment, null, __jsx(AdvertisementDiv, null, __jsx(\"img\", {\n    src: imgSrc,\n    width: \"100%\",\n    height: \"100%\"\n  }), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      width: \"50px\"\n    },\n    onClick: LchangImg\n  }, __jsx(LeftOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"130px\",\n      left: \"900px\",\n      width: \"50px\"\n    },\n    onClick: RchangeImg\n  }, __jsx(RightOutlined, {\n    style: {\n      fontSize: \"25px\",\n      color: \"gray\"\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      paddingRight: \"80px\"\n    }\n  }, __jsx(SearchTags, {\n    boardNum: 5,\n    tagsData: cooperate_tagsData\n  }), __jsx(Button, {\n    onClick: onSwitch\n  }, \"\\uC804\\uD658\\uC2A4\\uC704\\uCE58\")), __jsx(PostCarDiv2, null, mainPosts.map(function (post) {\n    return __jsx(PostCard2, {\n      key: post.id,\n      post: post\n    });\n  })))));\n}\n\nexport var __N_SSP = true;\nexport default SearchResult;","map":null,"metadata":{},"sourceType":"module"}