{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Tag, Button } from 'antd';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LOAD_CHANGE_TAG_REQUEST, LOAD_POST_REQUEST, UPDATE_TAG } from \"../reducers/post\";\n\nfunction Tags({\n  tagsData,\n  boardNum\n}) {\n  const {\n    CheckableTag\n  } = Tag;\n  const {\n    location\n  } = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const {\n    0: selectedTags,\n    1: setSelectedTags\n  } = useState([]);\n  const handleChange = useCallback((tag, checked) => {\n    const nextSelectedTags = checked ? [tag] : selectedTags.filter(t => t !== tag);\n    setSelectedTags([...nextSelectedTags]);\n    dispatch({\n      type: LOAD_CHANGE_TAG_REQUEST,\n      data: nextSelectedTags[0],\n      // 현재 선택한 태그명\n      boardNum: boardNum,\n      location: location\n    });\n    dispatch({\n      type: UPDATE_TAG,\n      data: nextSelectedTags[0] // 전역적으로 현재 선택한 태그를 공유한다.\n\n    });\n    console.log('You are interested in: ', nextSelectedTags);\n    console.log('You are interested in: ', nextSelectedTags[0]);\n  }, [location]);\n  useEffect(() => {\n    setSelectedTags(['전체']);\n  }, []);\n  return __jsx(React.Fragment, null, tagsData.map(tag => __jsx(CheckableTag, {\n    key: tag,\n    checked: selectedTags.indexOf(tag) > -1,\n    onChange: checked => handleChange(tag, checked)\n  }, tag)));\n}\n\nexport default Tags;","map":null,"metadata":{},"sourceType":"module"}